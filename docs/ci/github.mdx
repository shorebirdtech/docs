---
sidebar_position: 1
title: ğŸ™ GitHub
description: Integrate Shorebird into your GitHub workflow
---

import CIAuthentication from './_ci_authentication.md';

# GitHub Workflow Integration

The [Setup Shorebird](https://github.com/shorebirdtech/setup-shorebird) GitHub Action allows you to integrate Shorebird into your existing GitHub Workflows.

## Prerequisites

âœ… Shorebird CLI is installed on your machine

âœ… You are logged into a Shorebird account.

:::info
Refer to the [getting started](/) instructions for more information.
:::

## Quick Start

To integrate Shorebird into your CI, use the `setup-shorebird` action. The `setup-shorebird` action downloads Shorebird and adds it to the system path.

```yaml
name: Shorebird Workflow Example

on:
  workflow_dispatch:

jobs:
  example:
    defaults:
      run:
        shell: bash

    runs-on: ubuntu-latest

    steps:
      # Use the setup-shorebird action to configure Shorebird
      - name: ğŸ¦ Setup Shorebird
        uses: shorebirdtech/setup-shorebird@v1

      # Now we're able to use Shorebird CLI in our workflow
      - name: ğŸš€ Use Shorebird
        run: shorebird --version
```

In the above workflow, we're using the `setup-shorebird` action to configure Shorebird in our CI and in subsequent steps we can execute any Shorebird commands.

:::info
Currently `setup-shorebird` only supports the latest stable version of shorebird.
:::

## Authentication

<CIAuthentication />

Next, copy the generated `SHOREBIRD_TOKEN` and navigate to your GitHub repository secrets via:

`"Settings" -> "Secrets and variables" -> "Actions"`.

Then, click `"New repository secret"` and paste your `SHOREBIRD_TOKEN`:

```
name: SHOREBIRD_TOKEN
secret: <THE GENERATED SHOREBIRD_TOKEN>
```

Now we can use the `SHOREBIRD_TOKEN` in our GitHub workflow to perform authenticated functions such as creating patches ğŸ‰

## Create Releases

The simplest way to create a release is using the official Shorebird GitHub Actions:

- [Setup Shorebird GitHub Action](https://github.com/marketplace/actions/setup-shorebird).
- [Shorebird Release GitHub Action](https://github.com/marketplace/actions/shorebird-release).

```yaml
name: Shorebird Release

on:
  workflow_dispatch:

env:
  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}

jobs:
  release:
    defaults:
      run:
        shell: bash

    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“š Git Checkout
        uses: actions/checkout@v3

      - name: ğŸ¦ Setup Shorebird
        uses: shorebirdtech/setup-shorebird@v1

      - name: ğŸš€ Shorebird Release
        uses: shorebirdtech/shorebird-release@v0
        with:
          platform: android # or 'ios'
```

:::tip
The `shorebird-release` action also outputs the release version:

```yaml
- name: ğŸš€ Shorebird Release
  id: shorebird-release
  uses: shorebirdtech/shorebird-release@v0
  with:
    platform: android # or 'ios'

- name: ğŸ“ Output Release Version
  run: echo ${{ steps.shorebird-release.outputs.release-version }}
```

:::

## Create Patches

```yaml
name: Shorebird Patch

on:
  workflow_dispatch:

env:
  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}

jobs:
  patch:
    defaults:
      run:
        shell: bash

    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“š Git Checkout
        uses: actions/checkout@v3

      - name: ğŸ¦ Setup Shorebird
        uses: shorebirdtech/setup-shorebird@v1

      # Note: all signing information (key.properties, etc.) must be set up on
      # this runner for `shorebird patch android` to work.
      - name: ğŸš€ Shorebird Patch
        uses: shorebirdtech/shorebird-patch@v0
        with:
          platform: android # or 'ios'
```

:::tip
The `shorebird-patch` action also outputs the patch number:

```yaml
- name: ğŸš€ Shorebird Patch
  id: shorebird-patch
  uses: shorebirdtech/shorebird-patch@v0
  with:
    platform: android # or 'ios'

- name: ğŸ“ Output Patch Version
  run: echo ${{ steps.shorebird-patch.outputs.patch-number }}
```

:::
