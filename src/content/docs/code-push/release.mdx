---
title: Create a Release
description: Learn how to publish a new app release to Shorebird.
sidebar:
  label: Release
  order: 3
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

In order to start pushing updates, you will need to create a release.

Creating a release builds and submits your app to Shorebird. Shorebird saves the
compiled Dart code from your application in order to make updates smaller in
size.

<Tabs>

<TabItem value="release-android" label="Android">

Create an Android release by running the following command:

`shorebird release android`

Example output:

```
$ shorebird release android
‚úì Building release (9.6s)
‚úì Fetching apps (0.2s)
‚úì Detecting release version (0.2s)
‚úì Fetching releases (68ms)

üöÄ Ready to create a new release!

üì± App: new_flutter_app (7a29188a-9363-426a-9a36-74a5e166373d)
üì¶ Release Version: 1.0.0+1
üïπÔ∏è  Platform: android (arm64, arm32, x86_64)

Would you like to continue? (y/N) Yes
‚úì Fetching Flutter revision (30ms)
‚úì Updating release status (67ms)
‚úì Creating artifacts (2.8s)
‚úì Updating release status (62ms)

‚úÖ Published Release!

Your next step is to upload the app bundle to the Play Store.
build/app/outputs/bundle/release/app-release.aab

See the following link for more information:
https://support.google.com/googleplay/android-developer/answer/9859152?hl=en
```

If your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:

```bash
shorebird release android --target ./lib/main_development.dart --flavor development
```

:::note
`shorebird release` wraps `flutter build` and can take any argument `flutter
build` can. To pass arguments to the underlying `flutter build` you need to put
`flutter build` arguments after a `--` separator. For example: `shorebird
release android -- --dart-define="foo=bar"` will define the `"foo"` environment
variable inside Dart as you might have done with `flutter build` directly. In
Powershell the `--` separator must be quoted: `'--'`.
:::

By default, `shorebird release android` builds an AppBundle (`.aab`).
If you would like to _also_ generate an Android Package Kit (`.apk`), use the
following command:

```
shorebird release android --artifact apk
```

:::note
By default `shorebird release` uses the Flutter version bundled within the shorebird installation.

That version can be checked by running `shorebird doctor`
:::

To release with a different Flutter version, you can specify the version using the `--flutter-version` flag.

```
shorebird release android --flutter-version 3.19.0
```

</TabItem>

<TabItem value="release-output-ios" label="iOS">

Create an iOS release by running the following command:

`shorebird release ios`

Example output:

```
$ shorebird release ios
‚úì Fetching apps (0.2s)
‚úì Building release (59.0s)
‚úì Getting release version (40ms)
‚úì Fetching releases (0.1s)
üöÄ Ready to create a new release!
üì± App: My App (7a29188a-9363-426a-9a36-74a5e166373d)
üì¶ Release Version: 1.0.0+1
üïπÔ∏è  Platform: ios

Would you like to continue? (y/N) Yes
‚úì Fetching Flutter revision (40ms)
‚úì Creating release (0.1s)
‚úì Creating artifacts (5.1s)
‚úì Updating release status (57ms)

‚úÖ Published Release!

Your next step is to upload the ipa to App Store Connect.
build/ios/ipa/new_flutter_app.ipa

To upload to the App Store either:
    1. Drag and drop the "build/ios/ipa/new_flutter_app.ipa" bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784)
    2. Run xcrun altool --upload-app --type ios -f build/ios/ipa/new_flutter_app.ipa --apiKey your_api_key --apiIssuer your_issuer_id.
       See "man altool" for details about how to authenticate with the App Store Connect API key.
```

If your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:

```sh
shorebird release ios --target ./lib/main_development.dart --flavor development
```

:::note
`shorebird release` wraps `flutter build` and can take any argument
`flutter build` can. To pass arguments to the underlying `flutter build` you
need to put `flutter build` arguments after a `--` separator. For example:
`shorebird release android -- --dart-define="foo=bar"` will define the `"foo"` environment
variable inside Dart as you might have done with `flutter build` directly.
:::

:::note
By default `shorebird release` uses the Flutter version bundled within the shorebird installation.

That version can be checked by running `shorebird doctor`
:::

To release with a different Flutter version, you can specify the version using the `--flutter-version` flag.

```sh
shorebird release ios --flutter-version 3.19.0
```

### Signing issues

Depending on how you normally sign your iOS app, you may see an error at the end
of the build saying something like: `Runner.app requries a provisioning profile
with ___ feature` or that no signing certificate was found. This can be
addressed in a few ways:

#### Setting up automatic signing in Xcode

If you are releasing on your local machine (i.e., not in a CI environment), this
option is easier than the following options, but does not always work well in CI
environments.

In Xcode, open your project and navigate to the "Signing & Capabilities" tab.
Ensure that "Automatically manage signing" is checked.

#### Create an ExportOptions.plist file.

You may need to provide an ExportOptions.plist file to the `shorebird release
ios` command. This file is used by Xcode to determine which certificate and
provisioning profile should be used to sign the .ipa. An example of this file
is:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>method</key>
	<string>app-store</string>
	<key>provisioningProfiles</key>
	<dict>
		<key>com.example.your_bundle_id</key>
		<string>Your App's App Store Distribution Certificate Name</string>
	</dict>
	<key>signingCertificate</key>
	<string>Apple Distribution</string>
	<key>signingStyle</key>
	<string>manual</string>
	<key>teamID</key>
	<string>*****</string> # From https://developer.apple.com/account
</dict>
</plist>
```

To use this file, pass it to the `shorebird release ios` command:

```sh
shorebird release ios --export-options=path/to/ExportOptions.plist
```

</TabItem>

</Tabs>

## Manage Releases

### List Releases

You can view all of your releases for your current app (as defined by
your shorebird.yaml) on the [Shorebird console](https://console.shorebird.dev/).

### Delete Releases

:::warning
Deleting a release will remove all associated patches and artifacts
and is **not reversible**.
:::

You can delete a release for your current app (as defined by your
shorebird.yaml) on the [Shorebird console](https://console.shorebird.dev/).

## Side-loading and MDM

A common question we get asked is: Does Shorebird require publishing to the
App Store or Play Store?

No. Shorebird works fine with side-loading and mobile device management (MDM)
on Android. We've not had anyone try Shorebird with iOS Developer Enterprise
program, but we expect it to work just as well.

To build Shorebird for distribution via APK (e.g. side-loading), use the
`--artifact` flag with the `shorebird release` command. For example:

```sh
shorebird release android --artifact=apk
```

That will produce _both_ .apk and .aab files. You can distribute either
or both as needed.
